title: OpenStack L2 Performance

description:
  In this scenario Shaker launches 1 pair of instances in the same tenant
  network. Each instance is hosted on a separate compute node. The traffic goes
  within the tenant network (L2 domain).

deployment:
  template: l2.hot
  accommodation: [pair, single_room, compute_nodes: 2]

execution:
  tests:
  -
    title: TCP_iperf3_1
    class: iperf3
    threads: 16
    sla:
    - "[type == 'agent'] >> (stats.bandwidth.avg > 5000)"
    - "[type == 'agent'] >> (stats.retransmits.max < 10)"
  -
    title: TCP_iperf3_2
    class: iperf3
    threads: 16
    sla:
    - "[type == 'agent'] >> (stats.bandwidth.avg > 5000)"
    - "[type == 'agent'] >> (stats.retransmits.max < 10)"
  -
    title: TCP_iperf3_3
    class: iperf3
    threads: 16
    sla:
    - "[type == 'agent'] >> (stats.bandwidth.avg > 5000)"
    - "[type == 'agent'] >> (stats.retransmits.max < 10)"
  -
    title: TCP_iperf3_4
    class: iperf3
    threads: 16
    sla:
    - "[type == 'agent'] >> (stats.bandwidth.avg > 5000)"
    - "[type == 'agent'] >> (stats.retransmits.max < 10)"
  -
    title: TCP_iperf3_5
    class: iperf3
    threads: 16
    sla:
    - "[type == 'agent'] >> (stats.bandwidth.avg > 5000)"
    - "[type == 'agent'] >> (stats.retransmits.max < 10)"